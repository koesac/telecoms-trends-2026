<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Future of Telecoms: Strategic Mind-Map</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --agate: #D6883A;
            --aventurine: #3E9B9B;
            --azurite: #842366;
            --bloodstone: #15404F;
            --bg-dark: #05080a;
            --text-main: #e2e8f0;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--bg-dark);
            font-family: 'Outfit', sans-serif;
            color: var(--text-main);
        }

        /* The Canvas */
        #viewport {
            width: 100vw;
            height: 100vh;
            cursor: grab;
            position: relative;
            background-image: 
                radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 40px 40px;
            touch-action: none; /* Essential for mobile dragging */
        }

        #viewport:active {
            cursor: grabbing;
        }

        #canvas {
            position: absolute;
            width: 3000px;
            height: 3000px;
            top: 0;
            left: 0;
            will-change: transform;
        }

        /* Nodes */
        .node {
            position: absolute;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 1.5rem;
            width: 280px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: border-color 0.3s, box-shadow 0.3s, transform 0.2s;
            user-select: none;
            cursor: pointer;
            z-index: 2;
        }

        .node:hover {
            border-color: var(--agate);
            box-shadow: 0 0 20px rgba(214, 136, 58, 0.3);
            transform: scale(1.02);
        }

        .node.active {
            border-color: var(--agate);
            background: rgba(21, 64, 79, 0.9);
        }

        .node h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--agate);
        }

        .node p {
            margin: 0;
            font-size: 0.9rem;
            color: #94a3b8;
            line-height: 1.4;
        }

        .node .icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--aventurine);
        }

        /* Center Node */
        .node-main {
            width: 350px;
            text-align: center;
            border-width: 2px;
            padding: 2.5rem;
            border-color: var(--agate);
        }

        .node-main h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Detail Nodes (Children) */
        .node-detail {
            width: 200px;
            padding: 1rem;
            font-size: 0.8rem;
            background: rgba(15, 23, 42, 0.5);
            border-style: dashed;
        }

        .node-detail h4 {
            margin: 0 0 0.3rem 0;
            color: var(--aventurine);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Connecting Lines (SVG) */
        #lines-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .connector {
            stroke: rgba(214, 136, 58, 0.2);
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 5, 5;
            animation: dash 20s linear infinite;
        }

        @keyframes dash {
            to { stroke-dashoffset: -1000; }
        }

        /* UI Overlays */
        .controls {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            display: flex;
            gap: 1rem;
            z-index: 100;
        }

        .btn-ui {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            backdrop-filter: blur(5px);
            transition: all 0.3s;
        }

        .btn-ui:hover {
            background: var(--agate);
            border-color: var(--agate);
        }

        .legend {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: rgba(0,0,0,0.5);
            padding: 1rem;
            border-radius: 12px;
            font-size: 0.8rem;
            pointer-events: none;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.3rem;
        }

        .dot { width: 8px; height: 8px; border-radius: 50%; }

        .hint {
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--agate);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            pointer-events: none;
            animation: fadeOut 3s forwards 2s;
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translate(-50%, -20px); }
        }

    </style>
</head>
<body>

    <div class="hint">DRAG TO EXPLORE THE ECOSYSTEM</div>

    <div id="viewport">
        <div id="canvas">
            <svg id="lines-svg"></svg>
            
            <!-- Strategic Core -->
            <div class="node node-main" style="top: 1400px; left: 1325px;" id="node-core">
                <h2>Telecoms 2026</h2>
                <p>The Converged Architectural Framework</p>
            </div>

            <!-- Trend 1: 5G/6G -->
            <div class="node" style="top: 1100px; left: 1000px;" data-id="t1">
                <div class="icon"><i class="fas fa-tower-broadcast"></i></div>
                <h3>Hyper-Scale 5G & 6G</h3>
                <p>Terahertz air interface and programmable network fabric.</p>
            </div>
            <div class="node node-detail" style="top: 1000px; left: 800px;" data-parent="t1">
                <h4>Impact</h4>
                <p>Holographic presence & 1ms remote robotics.</p>
            </div>

            <!-- Trend 2: AI -->
            <div class="node" style="top: 1100px; left: 1700px;" data-id="t2">
                <div class="icon"><i class="fas fa-brain"></i></div>
                <h3>Autonomous Networks</h3>
                <p>Zero-touch AI provisioning and self-healing infrastructure.</p>
            </div>
            <div class="node node-detail" style="top: 1000px; left: 1950px;" data-parent="t2">
                <h4>Metric</h4>
                <p>30% OPEX reduction via predictive AI.</p>
            </div>

            <!-- Trend 3: Edge -->
            <div class="node" style="top: 1500px; left: 900px;" data-id="t3">
                <div class="icon"><i class="fas fa-microchip"></i></div>
                <h3>Edge Intelligence</h3>
                <p>Compute-enabled base stations for local processing.</p>
            </div>
            <div class="node node-detail" style="top: 1700px; left: 750px;" data-parent="t3">
                <h4>Use Case</h4>
                <p>Real-time autonomous vehicle coordination.</p>
            </div>

            <!-- Trend 4: Satellite -->
            <div class="node" style="top: 1500px; left: 1800px;" data-id="t4">
                <div class="icon"><i class="fas fa-satellite"></i></div>
                <h3>Orbital Link</h3>
                <p>Seamless LEO satellite integration for dead-zone elimination.</p>
            </div>
            <div class="node node-detail" style="top: 1700px; left: 2050px;" data-parent="t4">
                <h4>Stat</h4>
                <p>100% Global Surface Coverage achieved.</p>
            </div>

            <!-- Trend 5: Security -->
            <div class="node" style="top: 1800px; left: 1360px;" data-id="t5">
                <div class="icon"><i class="fas fa-shield-halved"></i></div>
                <h3>Quantum Defense</h3>
                <p>Post-Quantum Cryptography (PQC) for backbone integrity.</p>
            </div>
            <div class="node node-detail" style="top: 2000px; left: 1400px;" data-parent="t5">
                <h4>Goal</h4>
                <p>Future-proof security against Q-Day threats.</p>
            </div>

        </div>
    </div>

    <div class="controls">
        <button class="btn-ui" onclick="resetView()" title="Center Map"><i class="fas fa-crosshairs"></i></button>
        <a href="index.html" class="btn-ui" style="display:flex; align-items:center; justify-content:center; text-decoration:none;" title="Exit"><i class="fas fa-home"></i></a>
    </div>

    <div class="legend">
        <div class="legend-item"><div class="dot" style="background:var(--agate)"></div> Strategic Pillar</div>
        <div class="legend-item"><div class="dot" style="background:var(--aventurine)"></div> Tactical Detail</div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

    <script>
        gsap.registerPlugin(Draggable);

        const canvas = document.getElementById('canvas');
        const viewport = document.getElementById('viewport');
        const svg = document.getElementById('lines-svg');

        // Center the Strategic Core on load
        function initPosition() {
            const core = document.getElementById('node-core');
            const targetX = (window.innerWidth / 2) - 1325 - 175;
            const targetY = (window.innerHeight / 2) - 1400 - 80;
            
            gsap.set(canvas, { x: targetX, y: targetY });
            updateLines();
        }

        // Make Canvas Draggable
        Draggable.create(canvas, {
            type: "x,y",
            edgeResistance: 0.5,
            bounds: { minX: -2400, maxX: 600, minY: -2400, maxY: 600 },
            onDrag: updateLines,
            dragClickables: true,
            allowNativeTouchScrolling: false,
            onPress: function() {
                viewport.style.cursor = 'grabbing';
            },
            onRelease: function() {
                viewport.style.cursor = 'grab';
            }
        });

        // Update SVG Lines
        function updateLines() {
            svg.innerHTML = '';
            const core = document.getElementById('node-core');
            
            // Connect core to main trends
            document.querySelectorAll('.node[data-id]').forEach(node => {
                drawLine(core, node, 'core-line');
                
                // Connect main trends to their details
                const id = node.getAttribute('data-id');
                document.querySelectorAll(`.node-detail[data-parent="${id}"]`).forEach(detail => {
                    drawLine(node, detail, 'detail-line');
                });
            });
        }

        function drawLine(el1, el2, className) {
            const r1 = el1.getBoundingClientRect();
            const r2 = el2.getBoundingClientRect();
            const cR = canvas.getBoundingClientRect();

            // Calculate points relative to the CANVAS
            const x1 = (r1.left + r1.width / 2 - cR.left);
            const y1 = (r1.top + r1.height / 2 - cR.top);
            const x2 = (r2.left + r2.width / 2 - cR.left);
            const y2 = (r2.top + r2.height / 2 - cR.top);

            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            const midY = (y1 + y2) / 2;
            const d = `M ${x1} ${y1} C ${x1} ${midY}, ${x2} ${midY}, ${x2} ${y2}`;
            
            path.setAttribute("d", d);
            path.setAttribute("class", "connector " + className);
            svg.appendChild(path);
        }

        function resetView() {
            const targetX = (window.innerWidth / 2) - 1325 - 175;
            const targetY = (window.innerHeight / 2) - 1400 - 80;
            
            gsap.to(canvas, { 
                x: targetX, 
                y: targetY, 
                duration: 1, 
                ease: "power3.inOut",
                onUpdate: updateLines 
            });
        }

        // Click to center a node
        document.querySelectorAll('.node').forEach(node => {
            node.addEventListener('click', (e) => {
                if (Draggable.get(canvas).isDragging) return;

                const r = node.getBoundingClientRect();
                const targetX = canvas._gsap.x + (window.innerWidth / 2 - r.left - r.width / 2);
                const targetY = canvas._gsap.y + (window.innerHeight / 2 - r.top - r.height / 2);

                gsap.to(canvas, { 
                    x: targetX, 
                    y: targetY, 
                    duration: 0.8, 
                    ease: "power2.out",
                    onUpdate: updateLines
                });

                document.querySelectorAll('.node').forEach(n => n.classList.remove('active'));
                node.classList.add('active');
            });
        });

        // Initialize
        window.addEventListener('load', () => {
            initPosition();
            updateLines();
        });
        window.addEventListener('resize', () => {
            updateLines();
        });

    </script>
</body>
</html>
